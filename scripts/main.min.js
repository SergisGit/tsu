<<<<<<< HEAD
!function(){"use strict";(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i))&&document.querySelector("html").classList.add("is-ios");var e=window.matchMedia("(min-width: 768px)").matches?2:1,a=window.matchMedia("(min-width: 768px)").matches?[22.04622630078105,39.94769520495493]:[49.256614484375056,44.755914715920284];mapboxgl.accessToken="pk.eyJ1IjoiaXNzZXJnIiwiYSI6ImNqbWJ1MG4xZzA3YXUzd21pOTNieDZwdWMifQ.M_XBqcEKA-BFF-AG9ZW_5Q";var o=document.querySelector("#js-map");if(o){var i=o.getAttribute("data-graduates"),m=new mapboxgl.Map({container:o,style:"mapbox://styles/isserg/cjomx48pj92fk2st9b0712bk1",center:a,zoom:e,minZoom:e,maxZoom:e,scrollZoom:!1,dragRotate:!1,touchZoomRotate:!1});$.getJSON(i,function(e){m.on("load",function(){m.addSource("graduates",{type:"geojson",data:e});var n,c=new mapboxgl.Popup({closeButton:!0,closeOnClick:!0,className:"map__popup",offset:25});c.on("close",function(){n&&n.classList.remove("map__marker--active")});var p="data:image/svg+xml;utf8,<svg version='1.0' viewBox='0 0 24 24' xml:space='preserve' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><g fill='%230047FF'><polygon points='12,3 1,9 12,15 23,9 '/><polygon points='19,12.8 12,17 5,12.8 5,17.2 12,21 19,17.2 '/><rect height='8' width='2' x='21' y='9'/></g></svg>";e.features.forEach(function(r,e){var a=r.properties.icon?r.properties.icon:p,o=document.createElement("div");o.id="marker-"+e,o.className="map__marker",o.innerHTML='<img src="'+a+'" alt="graduate" class="map__marker-icon">',new mapboxgl.Marker(o,{offset:[0,0]}).setLngLat(r.geometry.coordinates).addTo(m),o.addEventListener("click",function(e){e.stopPropagation(),n&&n.classList.remove("map__marker--active"),(n=this).classList.add("map__marker--active");var a=r.properties.name?r.properties.name:"Неизвестный",o=r.properties.image?r.properties.image:p,i=r.properties.year?'<div class="infowindow__year">’'+r.properties.year+"</div>":"",t=r.properties.place?'<div class="infowindow__place">'+r.properties.place+"</div>":"",s=r.properties.link?'<a href="'+r.properties.link+'" class="infowindow__btn  btn">ЧИТАТЬ ИСТОРИЮ</a>':"";c.setHTML('<div class="infowindow"><div class="infowindow__image-wrapper"><img class="infowindow__image" src="'+o+'" alt="'+a+'">'+i+'</div><div class="infowindow__content"><div class="infowindow__name">'+a+"</div>"+t+s+"</div></div>"),c.setLngLat({lng:r.geometry.coordinates[0],lat:r.geometry.coordinates[1]}).addTo(m)})})})})}}();
=======
!function(){"use strict";(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i))&&document.querySelector("html").classList.add("is-ios");var o=window.matchMedia("(min-width: 768px)").matches?2:1,a=window.matchMedia("(min-width: 768px)").matches?[22.04622630078105,39.94769520495493]:[49.256614484375056,44.755914715920284];mapboxgl.accessToken="pk.eyJ1IjoiaXNzZXJnIiwiYSI6ImNqbWJ1MG4xZzA3YXUzd21pOTNieDZwdWMifQ.M_XBqcEKA-BFF-AG9ZW_5Q";var t=document.querySelector("#js-map");if(t){var e=new mapboxgl.Map({container:t,style:"mapbox://styles/isserg/cjomx48pj92fk2st9b0712bk1",center:a,zoom:o,minZoom:o,maxZoom:o,scrollZoom:!1,dragRotate:!1,touchZoomRotate:!1});e.on("load",function(){e.on("dragstart",function(o){console.log(e.tap),o.originalEvent&&"touches"in o.originalEvent&&(o.originalEvent.touches.length<2?e.dragPan.disable():e.dragPan.enable())})})}}();
>>>>>>> e8d40500017243599243bf5bfee372e1e6c9f3c1
